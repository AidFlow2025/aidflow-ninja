<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login â€“ AidFlow Ninja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/main.css">
</head>

<body>

<main class="container admin-login">

  <h1>ðŸ¥· Acceso Ninja</h1>

  <!-- FORMULARIO (evita warning del navegador) -->
  <form onsubmit="event.preventDefault(); login();">

    <input
      type="text"
      id="user"
      placeholder="Usuario Ninja"
      autocomplete="username"
    >

    <input
      type="password"
      id="pass"
      placeholder="ContraseÃ±a"
      autocomplete="current-password"
    >

    <button type="submit" class="btn primary">
      Entrar
    </button>

  </form>

  <p id="login-error" style="color:#ef4444; margin-top:10px;"></p>

  <p style="margin-top:20px; opacity:.7;">
    Â¿TodavÃ­a no sos Ninja?
    <a href="register.html">Crear cuenta</a>
  </p>

</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <p>Â© 2025 AidFlow Ninja</p>
  <p>Ayuda mutua Â· MÃ©rito Â· Transparencia</p>
  <a href="privacidad.html" target="_blank">PolÃ­tica de Privacidad</a>
</footer>

<!-- ================= SCRIPTS ================= -->

<!-- 1ï¸âƒ£ auth.js PRIMERO -->
<script src="js/auth.js"></script>

<!-- 2ï¸âƒ£ reciÃ©n ahora podemos usar sus funciones -->
<script>
  bloquearLoginSiAutenticado();

  // guardar referido si viene por URL
  const params = new URLSearchParams(window.location.search);
  const ref = params.get("ref");

  if (ref && !localStorage.getItem("aidflow_ref_origen")) {
    localStorage.setItem("aidflow_ref_origen", ref);
  }
</script>

</body>
</html>
